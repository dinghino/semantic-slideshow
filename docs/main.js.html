<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>main.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="App.html">App</a><ul class='methods'><li data-type='method'><a href="App.html#.didUpdate">didUpdate</a></li><li data-type='method'><a href="App.html#.getOldState">getOldState</a></li><li data-type='method'><a href="App.html#.loadSlideshow">loadSlideshow</a></li><li data-type='method'><a href="App.html#.pauseSlideshow">pauseSlideshow</a></li><li data-type='method'><a href="App.html#.setAboutInfo">setAboutInfo</a></li><li data-type='method'><a href="App.html#.setState">setState</a></li><li data-type='method'><a href="App.html#.startSlideshow">startSlideshow</a></li></ul></li><li><a href="Counter.html">Counter</a><ul class='methods'><li data-type='method'><a href="Counter.html#.toggle">toggle</a></li></ul></li><li><a href="Dimmer.html">Dimmer</a><ul class='methods'><li data-type='method'><a href="Dimmer.html#.set">set</a></li><li data-type='method'><a href="Dimmer.html#.toggle">toggle</a></li></ul></li><li><a href="Interface.html">Interface</a><ul class='methods'><li data-type='method'><a href="Interface.html#.disableTransitions">disableTransitions</a></li><li data-type='method'><a href="Interface.html#.restoreTransitions">restoreTransitions</a></li><li data-type='method'><a href="Interface.html#.toggleUI">toggleUI</a></li></ul></li><li><a href="Slides.html">Slides</a><ul class='methods'><li data-type='method'><a href="Slides.html#.go">go</a></li><li data-type='method'><a href="Slides.html#.render">render</a></li></ul></li><li><a href="STORAGE.html">STORAGE</a><ul class='methods'><li data-type='method'><a href="STORAGE.html#.validate">validate</a></li></ul></li><li><a href="Timer.html">Timer</a><ul class='methods'><li data-type='method'><a href="Timer.html#.init">init</a></li><li data-type='method'><a href="Timer.html#.pause">pause</a></li><li data-type='method'><a href="Timer.html#.render">render</a></li><li data-type='method'><a href="Timer.html#.run">run</a></li><li data-type='method'><a href="Timer.html#.stop">stop</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#$authorAccordion">$authorAccordion</a></li><li><a href="global.html#$button">$button</a></li><li><a href="global.html#$counter">$counter</a></li><li><a href="global.html#$counterLabel">$counterLabel</a></li><li><a href="global.html#$dimmer">$dimmer</a></li><li><a href="global.html#$helpIcon">$helpIcon</a></li><li><a href="global.html#$jumperInput">$jumperInput</a></li><li><a href="global.html#$slideContainer">$slideContainer</a></li><li><a href="global.html#$slidesHelpPopup">$slidesHelpPopup</a></li><li><a href="global.html#about">about</a></li><li><a href="global.html#APP_CONFIG_DEF">APP_CONFIG_DEF</a></li><li><a href="global.html#INIT_TIME">INIT_TIME</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">main.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @file
 * Entry point for the application. imports are violently done with $.get and
 * $.getScript jQuery methods
 */

var $slides_loader;

/**
 * Default config object for App.init()
 * @type {Object}
 */
var APP_CONFIG_DEF = {
  verbose: false,
  semanticLog: false
}

/**
 * callback for the success of load 'config.html'
 * will activate the submit button, allowing the loading of slideshows
 * @private
 */
function _slideLoader () {
  $slides_loader.on('click', function (e) {
    e.preventDefault();

    var folder      = $('input[name="folderName"]').val(),
        hash        = $('input[name="pageHash"]').val(),
        controls    = $('input[name="controlsToggle"]').is(':checked'),
        loadScript  = $('input[name="loadCustomScript"]').is(':checked'),
        useTimer    = $('input[name="useTimerToggle"]').is(':checked');

    // set the config object to load the slides
    var config = {
      getEvents: loadScript,
      folder: folder,
      hash: hash,
      showButtons: controls,
      useTimer: useTimer
    };

    /** calback functions for App.validateSlideshowFolder */
    function validateSuccess () { App.loadSlideshow(config) };
    function validateFailure () {
      var message = $('[data-role="loadingErrorBox"]'),
          icon = $(message).children('.icon');

      /** show error message! if already on screen then 'tada!' it */
      if ($(message).hasClass('hidden')) {
        $(message).transition({
          animation: 'fade up',
          onComplete: function () {
            $(icon).transition('tada')
          }
        })
      } else {
        $(message).transition('tada')
      }
    };

    /** validation for @var folder. if success start loading slideshow */
    App.validateSlideshowFolder(folder, validateSuccess, validateFailure);
  });
}

/**
 * load all the ui components, configs and app file
 * @private
 */
function _loadApp () {
  // fetch the UI and load it into the page
  $('[data-role="slidesInterface"]').load("app/ui.html", function () {
    // fetch the config file
    $.getScript('app/js/config.js', function () {
      // fetch app.js
      $.getScript('app/js/app.js', function () {

      // initialize the app
      setTimeout(App.init, 5, APP_CONFIG_DEF);
      })
    });
  });
};


$(document).ready(function () {
  /** load the configuration interface into the page */
  $( '[data-role="slides"]').load("app/config.html", function () {

    /** get the element for the load button */
    $slides_loader = $('#load_slideshow_btn');

    /** initialization for loading screen */
    $('.ui.checkbox').checkbox()
    $('[data-role="configSettingsAccordion"]').accordion()
    _slideLoader()

    /** load the rest of the UI and start initializing the application */
    _loadApp()
  });
});
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Fri May 13 2016 19:21:21 GMT+0200 (ora legale Europa occidentale) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
